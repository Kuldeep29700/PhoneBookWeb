(this.webpackJsonpphonebook311=this.webpackJsonpphonebook311||[]).push([[0],{40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),a=n(16),r=n.n(a),u=n(4),s=n(0),l=function(e){var t=e.filter,n=e.eventfilter;return Object(s.jsxs)(s.Fragment,{children:["Search here..",Object(s.jsx)("input",{value:t,onChange:n})]})},i=n(3),d=n.n(i),f="/api/contact",j={getAll:function(){return d.a.get(f).then((function(e){return e.data}))},create:function(e){return d.a.post(f,e).then((function(e){return e.data}))},update:function(e,t){return d.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},remove:function(e,t){return d.a.delete("".concat(f,"/").concat(e),t).then((function(e){return e.data}))}},b=function(e){var t=e.personToshow,n=e.deleteHandler;return Object(s.jsx)("div",{children:t.map((function(e){return Object(s.jsxs)("li",{className:"persons",children:["".concat(e.name," :"),"    ",e.number,Object(s.jsx)("button",{className:"deleteBtn",type:"submit",onClick:function(){return n(e.id,e.name)},children:"delete"})]},e.id)}))})},h=(n(40),function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),r=Object(u.a)(a,2),i=r[0],f=r[1],h=Object(o.useState)(""),m=Object(u.a)(h,2),O=m[0],p=m[1],g=Object(o.useState)(""),v=Object(u.a)(g,2),x=v[0],w=v[1],S=Object(o.useState)(null),C=Object(u.a)(S,2),k=C[0],y=C[1],T=Object(o.useState)(null),L=Object(u.a)(T,2),M=L[0],N=L[1];Object(o.useEffect)((function(){j.getAll().then((function(e){console.log("successfull"),c(e)}))}),[]);var B=function(e){var t=e.errorMsg;return null===t?null:Object(s.jsx)("div",{className:"error",children:t})},D=function(e){var t=e.successMSg;return null===t?null:Object(s.jsx)("div",{className:"message",children:t})},A=x.length>=0?n.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())})):n;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("h1",{children:"Phonebook"}),Object(s.jsx)(B,{errorMsg:k}),Object(s.jsx)(D,{successMSg:M}),Object(s.jsx)(l,{filter:x,eventfilter:function(e){w(e.target.value)}}),Object(s.jsx)(b,{personToshow:A,deleteHandler:function(e,t){if(window.confirm("Delete ".concat(t,"?"))){console.log("Delete the person of id ".concat(e));var o=n.filter((function(t){return t.id!==e}));console.log(o),j.remove(e).then((function(o){c(n.filter((function(t){return t.id!==e?t:!o}))),N("".concat(t," deleted")),setTimeout((function(){N(null)}),5e3)})).catch((function(e){c(o),y("the note '".concat(o.name,"' was already deleted from server")),setTimeout((function(){y(null)}),5e3)}))}}}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:i,number:O,id:n.length+1},o=n.some((function(e){return e.name.toLowerCase()===t.name.toLowerCase()}));console.log(n.some((function(e){return e.name.toLowerCase()}))),console.log(t.name.toLowerCase()),console.log(o),o?(y("".concat(i," is already added to phonebook")),setTimeout((function(){y(null)}),3e3)):d.a.post("http://localhost:3001/api/contact",t).then((function(e){c(n.concat(e.data)),console.log(c),N("".concat(i," is added to the phoonebook")),setTimeout((function(){N(null)}),3e3)})).catch((function(e){y("".concat(i," is already added to phonebook change name and try again!")),setTimeout((function(){y(null)}),5e3)})),f(""),p("")},children:[Object(s.jsx)("input",{placeholder:"new contact name..",value:i,type:"text",onChange:function(e){return f(e.target.value)}}),Object(s.jsx)("br",{}),Object(s.jsx)("input",{placeholder:"new contact number..",value:O,type:"number",onChange:function(e){return p(e.target.value)}}),Object(s.jsx)("button",{className:"addBtn",type:"submit",children:"add"})]})]})});r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.eaa63719.chunk.js.map